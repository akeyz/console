"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2185],{62185:function(e,t,n){n.r(t);var r=n(29439),i=n(1413),a=n(72791),s=n(16871),o=n(56028),l=n(61889),c=n(36151),d=n(21435),u=n(11135),f=n(25787),h=n(23814),m=n(60364),x=n(45248),p=n(23742),j=n(81551),Z=n(87995),v=n(80184),b=(0,m.$j)((function(e){return{simplePath:e.objectBrowser.simplePath}}));t.default=b((0,f.Z)((function(e){return(0,u.Z)((0,i.Z)((0,i.Z)({},h.ID),h.DF))}))((function(e){var t=e.modalOpen,n=(e.folderName,e.bucketName),i=e.onClose,u=e.classes,f=e.existingFiles,h=e.simplePath,m=(0,j.TL)(),b=(0,s.s0)(),w=(0,a.useState)(""),P=(0,r.Z)(w,2),g=P[0],C=P[1],k=(0,a.useState)(!1),y=(0,r.Z)(k,2),F=y[0],N=y[1],S=(0,a.useState)(n),E=(0,r.Z)(S,2),B=E[0],I=E[1];(0,a.useEffect)((function(){if(h){var e="".concat(n).concat(n.endsWith("/")||h.startsWith("/")?"":"/").concat(h);I(e)}}),[h,n]);var L=function(){var e="/";h&&(e=h.endsWith("/")?h:"".concat(h,"/"));if(-1===f.findIndex((function(t){return t.name===e+g}))){var t=g.split("/").filter((function(e){return""!==e.trim()})).join("/"),r="/buckets/".concat(n,"/browse/").concat((0,x.LL)("".concat(e).concat(t,"/")));b(r),i()}else m((0,Z.zb)({errorMessage:"Folder cannot have the same name as an existing file",detailedError:""}))};(0,a.useEffect)((function(){var e=!0;0===g.trim().length&&(e=!1),N(e)}),[g]);return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(o.Z,{modalOpen:t,title:"\u9009\u62e9\u6216\u521b\u5efa\u65b0\u8def\u5f84",onClose:i,titleIcon:(0,v.jsx)(p.Z9m,{}),children:(0,v.jsxs)(l.ZP,{container:!0,children:[(0,v.jsxs)(l.ZP,{item:!0,xs:12,className:u.formFieldRow,children:[(0,v.jsx)("strong",{children:"\u5f53\u524d\u8def\u5f84:"})," ",(0,v.jsx)("br",{}),(0,v.jsx)("div",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:14,textAlign:"left"},dir:"rtl",children:B})]}),(0,v.jsx)(l.ZP,{item:!0,xs:12,className:u.formFieldRow,children:(0,v.jsx)(d.Z,{value:g,label:"\u65b0\u6587\u4ef6\u5939\u8def\u5f84",id:"folderPath",name:"folderPath",placeholder:"\u8f93\u5165\u65b0\u8def\u5f84",onChange:function(e){C(e.target.value)},onKeyPress:function(e){"Enter"===e.code&&""!==g&&L()},required:!0})}),(0,v.jsxs)(l.ZP,{item:!0,xs:12,className:u.modalButtonBar,children:[(0,v.jsx)(c.Z,{type:"button",color:"primary",variant:"outlined",onClick:function(){C("")},children:"Clear"}),(0,v.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",disabled:!F,onClick:L,children:"Create"})]})]})})})})))}}]);
//# sourceMappingURL=2185.f953fe8b.chunk.js.map